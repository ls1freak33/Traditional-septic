<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crestview Septic Estimator</title>

<style>
    body {
        margin: 0;
        padding: 0;
        background: #000;
        font-family: Arial, sans-serif;
        color: #fff;
    }

    .container {
        max-width: 650px;
        margin: auto;
        padding: 15px;
        border: 2px solid #facc15;
        border-radius: 12px;
        background: #050505;
    }

    h1 {
        text-align: center;
        color: #facc15;
        font-size: 34px;
        margin-bottom: 20px;
    }

    .section {
        border: 1px solid #facc15;
        border-radius: 10px;
        padding: 12px;
        margin-bottom: 16px;
        background: #0b0b0b;
    }

    .section-title {
        color: #facc15;
        font-size: 20px;
        margin-bottom: 10px;
        font-weight: bold;
    }

    input, select {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        background: #000;
        border: 1px solid #facc15;
        border-radius: 6px;
        color: #fff;
        font-size: 15px;
    }

    button {
        width: 100%;
        padding: 14px;
        margin-top: 10px;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
    }

    .btn-yellow { background: #facc15; color: #000; }
    .btn-green { background: #22c55e; color: #000; }
    .btn-blue { background: #2563eb; color: #fff; }

    .total {
        text-align: center;
        font-size: 28px;
        font-weight: bold;
        color: #facc15;
        margin-top: 15px;
    }
</style>
</head>

<body>

<div class="container">

<h1>CRESTVIEW SEPTIC ESTIMATOR</h1>

<div class="section">
    <div class="section-title">Job Info</div>
    <input id="customerName" placeholder="Customer Name">
    <input id="jobLocation" placeholder="Job Location">
</div>

<div class="section">
    <div class="section-title">Presets</div>
    <button class="btn-blue" onclick="presetStandard()">Standard – Normal Access</button>
    <button class="btn-blue" onclick="presetTight()">Standard – Tight Access</button>
    <button class="btn-blue" onclick="presetLarge()">Large System</button>
    <button class="btn-blue" onclick="presetHeavy()">Heavy Site Work</button>
</div>

<div class="section">
    <div class="section-title">System Details</div>
    <input id="tankCost" type="number" placeholder="Tank Cost ($)">
    <input id="fieldLength" type="number" placeholder="Field Line Length (ft)">
    <input id="pipeCost" type="number" placeholder="Pipe Cost per ft ($)">
</div>

<div class="section">
    <div class="section-title">Rock (Hauled In)</div>
    <input id="rockTons" type="number" placeholder="Rock Tons">
    <input id="rockCost" type="number" value="17" placeholder="Cost per Ton ($)">
</div>

<div class="section">
    <div class="section-title">Hauling</div>
    <input id="haulDistance" type="number" placeholder="Miles One Way">
    <input id="haulRate" type="number" placeholder="Haul Cost (cents per mile)">
</div>

<div class="section">
    <div class="section-title">Tree Clearing (if needed)</div>
    <input id="treeCount" type="number" placeholder="Tree Count">
    <select id="treeSize">
        <option value="0">Select Tree Size</option>
        <option value="500">Small (up to 6”)</option>
        <option value="1000">Medium (6–12”)</option>
        <option value="1500">Large (12”+)</option>
    </select>
</div>

<div class="section">
    <div class="section-title">Labor / Site Work / Mobilization</div>
    <input id="laborBase" type="number" placeholder="Base Labor Cost ($)">
    <input id="markupPercent" type="number" placeholder="Markup %">
</div>

<button class="btn-yellow" onclick="calculateTotal()">CALCULATE TOTAL</button>
<button class="btn-green" onclick="generateCustomerQuote()">GENERATE CUSTOMER QUOTE</button>

<div class="total" id="totalOutput">$0.00</div>

</div>

<script>
function getVal(id) {
    return parseFloat(document.getElementById(id).value) || 0;
}

function presetStandard() {
    document.getElementById("laborBase").value = 20000;
}

function presetTight() {
    document.getElementById("laborBase").value = 22500;
}

function presetLarge() {
    document.getElementById("laborBase").value = 25000;
}

function presetHeavy() {
    document.getElementById("laborBase").value = 27500;
}

function calculateTotal() {

    const tank = getVal("tankCost");
    const field = getVal("fieldLength");
    const pipe = getVal("pipeCost");

    const rockTons = getVal("rockTons");
    const rockCost = getVal("rockCost");

    const haulMiles = getVal("haulDistance");
    const haulRate = getVal("haulRate");

    const trees = getVal("treeCount");
    const treeSize = getVal("treeSize");

    const labor = getVal("laborBase");
    const markup = getVal("markupPercent");

    const pipeTotal = field * pipe;
    const rockTotal = rockTons * rockCost;
    const haulTotal = (haulMiles * 2) * (haulRate / 100);
    const treeTotal = trees * treeSize;

    const subTotal = tank + pipeTotal + rockTotal + haulTotal + treeTotal + labor;
    const markupAmount = subTotal * (markup / 100);
    const finalTotal = subTotal + markupAmount;

    document.getElementById("totalOutput").innerText = "$" + finalTotal.toFixed(2);
}

function generateCustomerQuote() {
    calculateTotal();

    const customer = document.getElementById("customerName").value || "Customer";
    const location = document.getElementById("jobLocation").value || "Job Site";
    const total = document.getElementById("totalOutput").innerText.replace("$", "");

    const deposit = (total * 0.10).toFixed(2);
    const paymentTerms = total > 15000 ? 
        "Progress payments required as work progresses." : 
        "Payment due upon completion.";

    const win = window.open('', '_blank');

    win.document.write(`
        <html>
        <head>
            <title>Proposal</title>
            <style>
                body { font-family: Arial; padding: 40px; }
                h1 { text-align: center; }
                .line { border-top: 1px solid #000; width: 300px; margin-top: 40px; }
            </style>
        </head>
        <body>

        <h1>Crestview Construction LLC</h1>

        <p><strong>Customer:</strong> ${customer}<br>
        <strong>Location:</strong> ${location}</p>

        <p>Scope of Work: Septic system installation including excavation, materials, labor, equipment, and site restoration per approved plans and local codes.</p>

        <h2>Total Project Price: $${total}</h2>
        <p><strong>Deposit to Schedule:</strong> $${deposit}</p>
        <p><strong>Payment Terms:</strong> ${paymentTerms}</p>

        <p><strong>Acceptance of Proposal:</strong></p>
        <div class="line"></div>
        <p>Customer Signature</p>

        <div class="line"></div>
        <p>Date</p>

        <script>window.print();</script>

        </body>
        </html>
    `);

    win.document.close();
}
</script>

</body>
</html>