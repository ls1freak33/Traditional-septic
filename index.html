<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Construction Estimator</title>

<style>
body {
    margin: 0;
    background: #000;
    color: #fff;
    font-family: Arial, sans-serif;
}

.nav {
    display: flex;
    gap: 8px;
    padding: 10px;
    justify-content: center;
    flex-wrap: wrap;
}

.nav button {
    background: #facc15;
    color: #000;
    border: none;
    padding: 10px 14px;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
}

.container {
    max-width: 650px;
    margin: auto;
    padding: 15px;
    border: 2px solid #facc15;
    border-radius: 14px;
    background: #050505;
}

h1 {
    text-align: center;
    color: #facc15;
}

.company {
    text-align: center;
    font-size: 18px;
    font-weight: bold;
    color: #3b82f6;
    margin-bottom: 18px;
}

.section {
    border: 1px solid #facc15;
    border-radius: 10px;
    padding: 12px;
    margin-bottom: 16px;
    background: #0b0b0b;
}

.section-title {
    color: #facc15;
    font-size: 20px;
    font-weight: bold;
    margin-bottom: 10px;
}

input, select {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    background: #000;
    border: 1px solid #facc15;
    border-radius: 6px;
    color: #fff;
}

button.calc {
    width: 100%;
    padding: 14px;
    background: #22c55e;
    color: #000;
    font-weight: bold;
    border-radius: 8px;
    border: none;
    cursor: pointer;
}

.total {
    text-align: center;
    font-size: 26px;
    color: #facc15;
    font-weight: bold;
    margin-top: 10px;
}

.note {
    font-size: 13px;
    text-align: center;
    color: #9ca3af;
}

.page { display: none; }
.page.active { display: block; }
</style>
</head>

<body>

<div class="nav">
    <button onclick="showPage('home')">Home</button>
    <button onclick="showPage('clearing')">Land Clearing</button>
</div>

<div class="container">

<!-- HOME -->
<div id="home" class="page active">
    <h1>Construction Estimator</h1>
    <div class="company">Crest View Construction LLC</div>
</div>

<!-- LAND CLEARING -->
<div id="clearing" class="page">
    <h1>Land Clearing</h1>
    <div class="company">Crest View Construction LLC</div>

    <!-- CLEARING TYPE -->
    <div class="section">
        <div class="section-title">Clearing Type</div>
        <select id="woodsType">
            <option value="0.75">Light Brush</option>
            <option value="1.25" selected>Medium Woods</option>
            <option value="2.0">Heavy Woods</option>
        </select>
        <input id="acres" type="number" step="0.1" placeholder="Acres to Clear">
    </div>

    <!-- CREW & FINISH -->
    <div class="section">
        <div class="section-title">Crew & Finish</div>
        <select id="operators">
            <option value="1" selected>1 Operator</option>
            <option value="2">2 Operators</option>
        </select>
        <select id="finish">
            <option value="1.0" selected>Pile Only</option>
            <option value="1.1">Burn on Site</option>
            <option value="1.3">Haul Off</option>
        </select>
    </div>

    <!-- MOBILIZATION -->
    <div class="section">
        <div class="section-title">Mobilization</div>
        <input id="miles" type="number" placeholder="One-way Miles">
        <select id="equipment">
            <option value="1">One Machine</option>
            <option value="2" selected>Both Machines</option>
        </select>
    </div>

    <button class="calc" onclick="calculateClearing()">CALCULATE</button>

    <div class="total" id="clearingTotal">$0.00</div>
    <div class="note" id="details"></div>
</div>

</div>

<script>
function showPage(id) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

function val(id) {
    return parseFloat(document.getElementById(id).value) || 0;
}

function calculateClearing() {
    const acres = val("acres");
    const baseDaysPerAcre = val("woodsType");
    const operators = val("operators");
    const finishMultiplier = val("finish");
    const miles = val("miles");
    const machines = val("equipment");

    const DAILY_RATE = 4750;
    const DAILY_MIN = 4500;
    const HAUL_RATE = 7;

    // Operator productivity factor
    const operatorFactor = operators === 2 ? 0.75 : 1.0;

    let days = acres * baseDaysPerAcre * operatorFactor;
    let clearingCost = days * DAILY_RATE;

    if (clearingCost < DAILY_MIN && acres > 0) {
        clearingCost = DAILY_MIN;
    }

    clearingCost *= finishMultiplier;

    let mobilization = miles * HAUL_RATE * machines * 2;
    let total = clearingCost + mobilization;

    let perAcre = acres > 0 ? total / acres : 0;

    document.getElementById("clearingTotal").innerText =
        "$" + total.toFixed(2);

    document.getElementById("details").innerHTML =
        `Estimated Days: ${days.toFixed(2)}<br>
         Approx. $${perAcre.toFixed(0)} per acre<br>
         ${operators} operator(s) â€¢ ${machines} machine(s)<br>
         Mobilization at $7/mile per machine`;
}
</script>

</body>
</html>